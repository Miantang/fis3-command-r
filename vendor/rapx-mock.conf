# RAPX的mock插入规则
# 结合插件fis3-command-r <https://github.com/Miantang/fis3-command-r> fis3 r [media] -m 使用

# 指令 replace regExpString
#   匹配所有所需插入的文件 的替换正则
#       regExpString有三个捕获项($1$2$3)，执行content.replace(regExpString, '$1$2xxx$3')，其中xxx为插入的文本内容
#       regExpString 默认值为 (\{%\s*block\s*name\=[\"|\']top-head-extend[\"|\']%\})((?:(?!\{%\/\s*block).|\n)*)(\{%\/\s*block\s*%\})
#       默认插入到{%block name='top-head-extend'%}块中

# 指令 mock /page/aaa.tpl xxx
# mock标识符 需要插入的文件(当前目录绝对路径) 需要插入的文本

# 原理/效果:
# 匹配 /page/aaa.tpl的文本内容，并在发布的过程中，执行content.replace(regExpString, '$1$2xxx$3'),在{%block name='top-head-extend'%}和{%/block%}中插入xxx

# replace (\{%\s*block\s*name\=[\"|\']top-head-extend[\"|\']%\})((?:(?!\{%\/\s*block).|\n)*)(\{%\/\s*block\s*%\})

# mock /page/index.tpl {%require src="http://avalon.inwaimai.baidu.com:8888/rap.plugin.js?projectId=1" type="js"%}
# mock /page/index2.tpl {%require src="http://avalon.inwaimai.baidu.com:8888/rap.plugin.js?projectId=2" type="js"%}
